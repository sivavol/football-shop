{% load static %}

<article class="bg-white rounded-2xl border border-gray-200 shadow-lg hover:shadow-2xl transition duration-300 overflow-hidden group">
  <!-- Thumbnail -->
  <div class="relative aspect-[16/9]">
    {% if product.thumbnail %}
      <img src="{{ product.thumbnail }}" alt="{{ product.name }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-300">
    {% else %}
      <img src="{% static 'image/no-product.png' %}" alt="No product available" class="w-full h-full object-cover group-hover:scale-105 transition duration-300">
    {% endif %}

    <!-- Category Badge -->
    <span class="absolute top-3 left-3 bg-green-600 text-white text-xs font-medium px-3 py-1 rounded-full shadow">
      {{ product.get_category_display }}
    </span>

    <!-- Featured Badge -->
    {% if product.is_featured %}
      <span class="absolute top-3 right-3 bg-yellow-500 text-white text-xs font-semibold px-3 py-1 rounded-full shadow">
        â˜… Featured
      </span>
    {% endif %}
  </div>

  <!-- Content -->
  <div class="p-5 flex flex-col space-y-3">
    <!-- Nama Produk -->
    <h3 class="text-xl font-bold text-gray-900">
      <a href="{% url 'main:show_product' product.id %}" class="hover:text-green-600 transition">
        {{ product.name }}
      </a>
    </h3>

    <!-- Seller Info -->
    <p class="text-sm text-gray-500">
      Sold by <span class="font-medium text-gray-800">{{ product.user.username }}</span>
    </p>

    <!-- Harga -->
    <p class="text-lg text-green-600 font-extrabold">
      ${{ product.price }}
    </p>

    <!-- Deskripsi Singkat -->
    <p class="text-gray-600 text-sm line-clamp-3">
      {{ product.description|truncatewords:20 }}
    </p>

    <!-- Action Buttons -->
    <div class="flex items-center justify-between pt-4 border-t border-gray-100">
      <a href="{% url 'main:show_product' product.id %}" 
         class="text-green-600 hover:text-green-700 font-medium text-sm flex items-center space-x-1">
        <span>View Details</span> â†’
      </a>

      {% if user.is_authenticated and product.user == user %}
        <div class="flex space-x-2">
          <a href="{% url 'main:edit_product' product.id %}" 
             class="px-3 py-1.5 text-xs rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200">
            âœŽ Edit
          </a>
          <a href="{% url 'main:delete_product' product.id %}" 
             class="px-3 py-1.5 text-xs rounded-lg bg-red-100 text-red-600 hover:bg-red-200">
            ðŸ—‘ Delete
          </a>
        </div>
      {% endif %}
    </div>
  </div>
</article>

